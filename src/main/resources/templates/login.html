<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Login</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<link href="login.css" rel="stylesheet">
</head>

<body class="bg-light">
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container-fluid">
			<a class="navbar-brand">Spring Security Login</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
				data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse justify-content-end">
				<ul class="navbar-nav mb-1 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link active" aria-current="page" th:href="@{/register}"><b>Register</b></a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	<br />
	<div class="container">
		<div class="row">
			<div class="col-lg-6 offset-lg-3 col-md-8 offset-md-2 col-sm-12">
				<div class="card shadow mb-3">
					<div class="card-header">
						<h2 class="text-center">Login</h2>
					</div>
					<div class="card-body">
						<form method="post" role="form" th:action="@{/login}" class="form-horizontal">


							<label for="username" class="control-label"> Email</label>
							<div class="input-group mb-3">
								<input type="text" id="username" name="username" class="form-control"
									placeholder="Enter email address or Username"/>
								<span class="input-group-text bg-white">
									<i class="bi  bi-person"></i>
								</span>
							</div>

							<label for="password" class="control-label"> Password</label>
							<div class="input-group mb-1">

								<input type="password" id="password" name="password" class="form-control"
									placeholder="Enter password" />
								<span class="btn border input-text-group" type="button" id="togglePassword">
									<i class="bi bi-eye-slash" id="passwordIcon"></i>
								</span>
							</div>

							<div class="me-1 mb-2 text-end">
								<a th:href="@{/forgot-password}">Forgot Password?</a>
							</div>



							<div class="form-group mb-2 text-center">
								<button type="submit" class="btn btn-outline-primary px-5 mb-3">Submit</button>
							</div>
						</form>


						<div class="form-group mb-2 text-center">
							<div class="row">
								<div class="col-5 border-top border-secondary"></div>
								<div class="col-2 text-muted">or</div>
								<div class="col-5 border-top border-secondary"></div>
							</div>
						</div>

						<div class="form-group mb-2 text-center">
							<div class="col-lg-6 col-sm-12 mx-auto">
								<a href="#" th:href="@{/oauth2/authorization/google}" class="btn btn-outline-danger mb-2">
									<i class="bi bi-google"></i> <span class="ms-3">Login with Google</span>
								</a>
								<br />
								<a href="#" th:href="@{/oauth2/authorization/github}" class="btn btn-outline-dark">
									<i class="bi bi-github"></i> <span class="ms-3">Login with GitHub.</span>
								</a>
							</div>
						</div>



					</div>
				</div>
				<div th:if="${param.error}">
					<div class="alert alert-danger">Invalid Email or Password</div>
				</div>
				<div th:if="${param.logout}">
					<div class="alert alert-success"> You have been logged out.</div>
				</div>

			</div>
		</div>
	</div>

	<script>const passwordInput = document.getElementById('password');
		const toggleButton = document.getElementById('togglePassword');
		const passwordIcon = document.getElementById('passwordIcon');

		toggleButton.addEventListener('click', () => {
			if (passwordInput.type === 'password') {
				passwordInput.type = 'text';
				passwordIcon.classList.remove('bi-eye-slash');
				passwordIcon.classList.add('bi-eye');
			} else {
				passwordInput.type = 'password';
				passwordIcon.classList.remove('bi-eye');
				passwordIcon.classList.add('bi-eye-slash');
			}
		});
		
</script>
</body>

</html>